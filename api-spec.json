{"openapi":"3.0.0","paths":{"/input":{"post":{"operationId":"InputController_addInput","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/InputConfigDto"}}}},"responses":{"201":{"description":"Input added successfully"},"400":{"description":"Bad request"}},"summary":"Add a new input configuration","tags":["input"]},"get":{"operationId":"InputController_getInputs","parameters":[],"responses":{"200":{"description":"List of input configurations","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/InputConfigDto"}}}}}},"summary":"Get all input configurations","tags":["input"]}},"/input/{id}":{"delete":{"operationId":"InputController_removeInput","parameters":[{"name":"id","required":true,"in":"path","description":"Input ID","schema":{"type":"string"}}],"responses":{"200":{"description":"Input removed successfully"}},"summary":"Remove an input configuration","tags":["input"]}},"/input/{id}/data":{"get":{"operationId":"InputController_getInputData","parameters":[{"name":"id","required":true,"in":"path","description":"Input ID","schema":{"type":"string"}}],"responses":{"200":{"description":"Input data history","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/InputDataDto"}}}}}},"summary":"Get input data history","tags":["input"]}},"/input/{id}/latest":{"get":{"operationId":"InputController_getLatestData","parameters":[{"name":"id","required":true,"in":"path","description":"Input ID","schema":{"type":"string"}}],"responses":{"200":{"description":"Latest input data","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InputDataDto"}}}}},"summary":"Get latest input data","tags":["input"]}},"/pipe":{"post":{"operationId":"PipeController_addPipe","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PipeConfigDto"}}}},"responses":{"201":{"description":"Pipe added successfully"},"400":{"description":"Bad request or validation errors"}},"summary":"Add a new pipe configuration","tags":["pipe"]},"get":{"operationId":"PipeController_getPipes","parameters":[],"responses":{"200":{"description":"List of pipe configurations","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/PipeConfigDto"}}}}}},"summary":"Get all pipe configurations","tags":["pipe"]}},"/pipe/{id}":{"delete":{"operationId":"PipeController_removePipe","parameters":[{"name":"id","required":true,"in":"path","description":"Pipe ID","schema":{"type":"string"}}],"responses":{"200":{"description":"Pipe removed successfully"}},"summary":"Remove a pipe configuration","tags":["pipe"]},"get":{"operationId":"PipeController_getPipe","parameters":[{"name":"id","required":true,"in":"path","description":"Pipe ID","schema":{"type":"string"}}],"responses":{"200":{"description":"Pipe configuration","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PipeConfigDto"}}}}},"summary":"Get a specific pipe configuration","tags":["pipe"]}},"/pipe/{id}/executions":{"get":{"operationId":"PipeController_getPipeExecutions","parameters":[{"name":"id","required":true,"in":"path","description":"Pipe ID","schema":{"type":"string"}}],"responses":{"200":{"description":"Pipe execution history","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/PipeExecutionDto"}}}}}},"summary":"Get pipe execution history","tags":["pipe"]}},"/pipe/{id}/executions/latest":{"get":{"operationId":"PipeController_getLatestExecution","parameters":[{"name":"id","required":true,"in":"path","description":"Pipe ID","schema":{"type":"string"}}],"responses":{"200":{"description":"Latest pipe execution","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PipeExecutionDto"}}}}},"summary":"Get latest pipe execution","tags":["pipe"]}},"/pipe/{id}/execute":{"post":{"operationId":"PipeController_executePipe","parameters":[{"name":"id","required":true,"in":"path","description":"Pipe ID","schema":{"type":"string"}}],"responses":{"200":{"description":"Pipe execution result","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PipeExecutionDto"}}}}},"summary":"Manually execute a pipe","tags":["pipe"]}},"/pipe/{id}/validate":{"post":{"operationId":"PipeController_validatePipe","parameters":[{"name":"id","required":true,"in":"path","description":"Pipe ID","schema":{"type":"string"}}],"responses":{"200":{"description":"Validation result"}},"summary":"Validate a pipe configuration","tags":["pipe"]}},"/transform":{"post":{"operationId":"TransformController_addTransform","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TransformConfigDto"}}}},"responses":{"201":{"description":"Transform added successfully"},"400":{"description":"Bad request"}},"summary":"Add a new transform configuration","tags":["transform"]},"get":{"operationId":"TransformController_getTransforms","parameters":[],"responses":{"200":{"description":"List of transform configurations","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/TransformConfigDto"}}}}}},"summary":"Get all transform configurations","tags":["transform"]}},"/transform/{id}":{"delete":{"operationId":"TransformController_removeTransform","parameters":[{"name":"id","required":true,"in":"path","description":"Transform ID","schema":{"type":"string"}}],"responses":{"200":{"description":"Transform removed successfully"}},"summary":"Remove a transform configuration","tags":["transform"]}},"/transform/{id}/data":{"get":{"operationId":"TransformController_getTransformData","parameters":[{"name":"id","required":true,"in":"path","description":"Transform ID","schema":{"type":"string"}}],"responses":{"200":{"description":"Transform data history","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/TransformDataDto"}}}}}},"summary":"Get transform data history","tags":["transform"]}},"/transform/{id}/latest":{"get":{"operationId":"TransformController_getLatestTransformData","parameters":[{"name":"id","required":true,"in":"path","description":"Transform ID","schema":{"type":"string"}}],"responses":{"200":{"description":"Latest transform data","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TransformDataDto"}}}}},"summary":"Get latest transform data","tags":["transform"]}},"/transform/{id}/apply":{"post":{"operationId":"TransformController_applyTransform","parameters":[{"name":"id","required":true,"in":"path","description":"Transform ID","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TransformApplyDto"}}}},"responses":{"200":{"description":"Transformed data"}},"summary":"Apply a transform to data","tags":["transform"]}},"/output":{"post":{"operationId":"OutputController_addOutput","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/OutputConfigDto"}}}},"responses":{"201":{"description":"Output added successfully"},"400":{"description":"Bad request"}},"summary":"Add a new output configuration","tags":["output"]},"get":{"operationId":"OutputController_getOutputs","parameters":[],"responses":{"200":{"description":"List of output configurations","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/OutputConfigDto"}}}}}},"summary":"Get all output configurations","tags":["output"]}},"/output/{id}":{"delete":{"operationId":"OutputController_removeOutput","parameters":[{"name":"id","required":true,"in":"path","description":"Output ID","schema":{"type":"string"}}],"responses":{"200":{"description":"Output removed successfully"}},"summary":"Remove an output configuration","tags":["output"]}},"/output/{id}/data":{"get":{"operationId":"OutputController_getOutputData","parameters":[{"name":"id","required":true,"in":"path","description":"Output ID","schema":{"type":"string"}}],"responses":{"200":{"description":"Output data history","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/OutputDataDto"}}}}}},"summary":"Get output data history","tags":["output"]}},"/output/{id}/latest":{"get":{"operationId":"OutputController_getLatestOutputData","parameters":[{"name":"id","required":true,"in":"path","description":"Output ID","schema":{"type":"string"}}],"responses":{"200":{"description":"Latest output data","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OutputDataDto"}}}}},"summary":"Get latest output data","tags":["output"]}},"/output/{id}/send":{"post":{"operationId":"OutputController_sendData","parameters":[{"name":"id","required":true,"in":"path","description":"Output ID","schema":{"type":"string"}}],"responses":{"200":{"description":"Data sent successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OutputDataDto"}}}}},"summary":"Send data to an output","tags":["output"]}},"/output/{id}/test":{"post":{"operationId":"OutputController_testOutput","parameters":[{"name":"id","required":true,"in":"path","description":"Output ID","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/OutputTestDto"}}}},"responses":{"200":{"description":"Test result","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OutputDataDto"}}}}},"summary":"Test an output with sample data","tags":["output"]}}},"info":{"title":"API Proxy","description":"Ein fein granulierter API-Proxy mit Transformationen, Delays und Loops","version":"1.0","contact":{}},"tags":[{"name":"input","description":"Input management - Polling external APIs"},{"name":"transform","description":"Transform management - Data transformation and processing"},{"name":"output","description":"Output management - Sending data to external APIs"}],"servers":[],"components":{"schemas":{"InputConfigDto":{"type":"object","properties":{"id":{"type":"string","description":"Unique identifier for the input","example":"weather-api"},"url":{"type":"string","description":"URL to poll","example":"https://api.weatherapi.com/v1/current.json"},"method":{"type":"string","description":"HTTP method to use","enum":["GET","POST","PUT","DELETE"],"example":"GET"},"headers":{"type":"object","description":"HTTP headers to send","example":{"Authorization":"Bearer YOUR_API_KEY"}},"body":{"type":"object","description":"Request body for POST/PUT requests","example":{"param":"value"}},"interval":{"type":"string","description":"Cron expression for polling interval","example":"*/30 * * * * *"},"enabled":{"type":"boolean","description":"Whether this input is enabled","example":true}},"required":["id","url","method","interval","enabled"]},"InputDataDto":{"type":"object","properties":{"id":{"type":"string","description":"Unique identifier for the data entry"},"timestamp":{"format":"date-time","type":"string","description":"Timestamp when data was fetched"},"data":{"type":"object","description":"The fetched data"},"source":{"type":"string","description":"Source URL of the data"}},"required":["id","timestamp","data","source"]},"PipeStepDto":{"type":"object","properties":{"type":{"type":"string","description":"Type of step in the pipeline","enum":["input","transform","output"],"example":"transform"},"id":{"type":"string","description":"ID of the input/transform/output to use","example":"filter-temp"},"delay":{"type":"number","description":"Delay in milliseconds before executing this step","example":1000},"enabled":{"type":"boolean","description":"Whether this step is enabled","example":true}},"required":["type","id","enabled"]},"PipeConfigDto":{"type":"object","properties":{"id":{"type":"string","description":"Unique identifier for the pipe","example":"weather-alert-pipe"},"name":{"type":"string","description":"Human readable name for the pipe","example":"Weather Alert Pipeline"},"description":{"type":"string","description":"Description of what this pipe does","example":"Monitors weather and sends alerts when temperature is high"},"steps":{"description":"Steps in the pipeline (input -> transform -> output)","example":[{"type":"input","id":"weather-input","enabled":true},{"type":"transform","id":"filter-temp","delay":1000,"enabled":true},{"type":"output","id":"slack-alert","enabled":true}],"type":"array","items":{"$ref":"#/components/schemas/PipeStepDto"}},"enabled":{"type":"boolean","description":"Whether this pipe is enabled","example":true},"timeout":{"type":"number","description":"Maximum execution time in milliseconds","example":30000}},"required":["id","name","description","steps","enabled"]},"PipeExecutionDto":{"type":"object","properties":{"id":{"type":"string","description":"Unique identifier for the execution"},"pipeId":{"type":"string","description":"ID of the pipe that was executed"},"startTime":{"format":"date-time","type":"string","description":"Timestamp when execution started"},"endTime":{"format":"date-time","type":"string","description":"Timestamp when execution ended"},"status":{"type":"string","description":"Status of the execution","enum":["running","completed","failed","timeout"]},"stepData":{"type":"object","description":"Data at each step of the pipeline"},"error":{"type":"string","description":"Error message if execution failed"}},"required":["id","pipeId","startTime","status","stepData"]},"TransformConfigDto":{"type":"object","properties":{"id":{"type":"string","description":"Unique identifier for the transform","example":"filter-temp"},"name":{"type":"string","description":"Human readable name for the transform","example":"Temperature Filter"},"type":{"type":"string","description":"Type of transformation","enum":["map","filter","reduce","custom"],"example":"filter"},"config":{"type":"object","description":"Configuration for the transform","example":{"condition":{"field":"temp_c","operator":"greater","value":20}}},"enabled":{"type":"boolean","description":"Whether this transform is enabled","example":true}},"required":["id","name","type","config","enabled"]},"TransformDataDto":{"type":"object","properties":{"id":{"type":"string","description":"Unique identifier for the transform data entry"},"timestamp":{"format":"date-time","type":"string","description":"Timestamp when transform was applied"},"inputData":{"type":"object","description":"Input data before transformation"},"outputData":{"type":"object","description":"Output data after transformation"},"transformId":{"type":"string","description":"ID of the transform that was applied"}},"required":["id","timestamp","inputData","outputData","transformId"]},"TransformApplyDto":{"type":"object","properties":{"data":{"type":"object","description":"Data to transform","example":{"temp_c":25,"condition":"sunny"}}},"required":["data"]},"OutputConfigDto":{"type":"object","properties":{"id":{"type":"string","description":"Unique identifier for the output","example":"slack-notification"},"name":{"type":"string","description":"Human readable name for the output","example":"Slack Notification"},"url":{"type":"string","description":"URL to send data to","example":"https://hooks.slack.com/services/YOUR_WEBHOOK"},"method":{"type":"string","description":"HTTP method to use","enum":["GET","POST","PUT","DELETE","PATCH"],"example":"POST"},"headers":{"type":"object","description":"HTTP headers to send","example":{"Content-Type":"application/json"}},"template":{"type":"string","description":"Template for request body with variable substitution","example":"{\"text\": \"Temperature: ${temp_c}°C, Condition: ${condition}\"}"},"enabled":{"type":"boolean","description":"Whether this output is enabled","example":true},"retryCount":{"type":"number","description":"Number of retry attempts on failure","example":3},"retryDelay":{"type":"number","description":"Delay between retry attempts in milliseconds","example":1000}},"required":["id","name","url","method","enabled"]},"OutputDataDto":{"type":"object","properties":{"id":{"type":"string","description":"Unique identifier for the output data entry"},"timestamp":{"format":"date-time","type":"string","description":"Timestamp when data was sent"},"requestData":{"type":"object","description":"Data that was sent"},"responseData":{"type":"object","description":"Response data from the target API"},"status":{"type":"string","description":"Status of the request","enum":["success","error"]},"error":{"type":"string","description":"Error message if request failed"},"outputId":{"type":"string","description":"ID of the output that was used"}},"required":["id","timestamp","requestData","status","outputId"]},"OutputTestDto":{"type":"object","properties":{"data":{"type":"object","description":"Test data to send","example":{"temp_c":25,"condition":"sunny"}}},"required":["data"]}}}}